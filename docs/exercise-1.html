<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>5 Exercise 1 | Lecture Note for Applied Econometrics</title>
  <meta name="description" content="5 Exercise 1 | Lecture Note for Applied Econometrics">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="5 Exercise 1 | Lecture Note for Applied Econometrics" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Exercise 1 | Lecture Note for Applied Econometrics" />
  
  
  

<meta name="author" content="Yuta Toyama">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="data-frame.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> bookdown::pdf_book: default</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#about-this"><i class="fa fa-check"></i><b>1.1</b> About this</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#update-april-16-2019"><i class="fa fa-check"></i><b>1.2</b> Update: April 16, 2019</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#acknowledgement-as-of-april-16-2019"><i class="fa fa-check"></i><b>1.3</b> Acknowledgement (as of April 16, 2019)</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-the-course.html"><a href="introduction-to-the-course.html"><i class="fa fa-check"></i><b>2</b> Introduction to the course</a><ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-the-course.html"><a href="introduction-to-the-course.html#what-is-econometrics"><i class="fa fa-check"></i><b>2.1</b> What is econometrics?</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-the-course.html"><a href="introduction-to-the-course.html#why-do-we-need-to-learn-computation"><i class="fa fa-check"></i><b>2.2</b> Why do we need to learn computation</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-the-course.html"><a href="introduction-to-the-course.html#why-do-we-use-r"><i class="fa fa-check"></i><b>2.3</b> Why do we use R?</a></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-the-course.html"><a href="introduction-to-the-course.html#getting-started"><i class="fa fa-check"></i><b>2.4</b> Getting Started</a></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-the-course.html"><a href="introduction-to-the-course.html#helps"><i class="fa fa-check"></i><b>2.5</b> Helps</a></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-the-course.html"><a href="introduction-to-the-course.html#quick-tour-of-rstudio"><i class="fa fa-check"></i><b>2.6</b> Quick tour of Rstudio</a></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-the-course.html"><a href="introduction-to-the-course.html#basic-calculations"><i class="fa fa-check"></i><b>2.7</b> Basic Calculations</a></li>
<li class="chapter" data-level="2.8" data-path="introduction-to-the-course.html"><a href="introduction-to-the-course.html#getting-help"><i class="fa fa-check"></i><b>2.8</b> Getting Help</a></li>
<li class="chapter" data-level="2.9" data-path="introduction-to-the-course.html"><a href="introduction-to-the-course.html#installing-packages"><i class="fa fa-check"></i><b>2.9</b> Installing Packages</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-and-programming.html"><a href="data-and-programming.html"><i class="fa fa-check"></i><b>3</b> Data and Programming</a><ul>
<li class="chapter" data-level="3.1" data-path="data-and-programming.html"><a href="data-and-programming.html#data-types"><i class="fa fa-check"></i><b>3.1</b> Data Types</a></li>
<li class="chapter" data-level="3.2" data-path="data-and-programming.html"><a href="data-and-programming.html#data-structures"><i class="fa fa-check"></i><b>3.2</b> Data Structures</a></li>
<li class="chapter" data-level="3.3" data-path="data-and-programming.html"><a href="data-and-programming.html#vectors"><i class="fa fa-check"></i><b>3.3</b> Vectors</a><ul>
<li class="chapter" data-level="3.3.1" data-path="data-and-programming.html"><a href="data-and-programming.html#basics-of-vectors"><i class="fa fa-check"></i><b>3.3.1</b> Basics of vectors</a></li>
<li class="chapter" data-level="3.3.2" data-path="data-and-programming.html"><a href="data-and-programming.html#useful-functions-for-creating-vectors"><i class="fa fa-check"></i><b>3.3.2</b> Useful functions for creating vectors</a></li>
<li class="chapter" data-level="3.3.3" data-path="data-and-programming.html"><a href="data-and-programming.html#subsetting"><i class="fa fa-check"></i><b>3.3.3</b> Subsetting</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-and-programming.html"><a href="data-and-programming.html#vectorization"><i class="fa fa-check"></i><b>3.4</b> Vectorization</a></li>
<li class="chapter" data-level="3.5" data-path="data-and-programming.html"><a href="data-and-programming.html#logical-operators"><i class="fa fa-check"></i><b>3.5</b> Logical Operators</a></li>
<li class="chapter" data-level="3.6" data-path="data-and-programming.html"><a href="data-and-programming.html#more-vectorization"><i class="fa fa-check"></i><b>3.6</b> More Vectorization</a></li>
<li class="chapter" data-level="3.7" data-path="data-and-programming.html"><a href="data-and-programming.html#matrices"><i class="fa fa-check"></i><b>3.7</b> Matrices</a><ul>
<li class="chapter" data-level="3.7.1" data-path="data-and-programming.html"><a href="data-and-programming.html#basics"><i class="fa fa-check"></i><b>3.7.1</b> Basics</a></li>
<li class="chapter" data-level="3.7.2" data-path="data-and-programming.html"><a href="data-and-programming.html#matrix-calculations"><i class="fa fa-check"></i><b>3.7.2</b> Matrix calculations</a></li>
<li class="chapter" data-level="3.7.3" data-path="data-and-programming.html"><a href="data-and-programming.html#getting-information-for-matrix"><i class="fa fa-check"></i><b>3.7.3</b> Getting information for matrix</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="data-and-programming.html"><a href="data-and-programming.html#lists"><i class="fa fa-check"></i><b>3.8</b> Lists</a></li>
<li class="chapter" data-level="3.9" data-path="data-and-programming.html"><a href="data-and-programming.html#data-frames"><i class="fa fa-check"></i><b>3.9</b> Data Frames</a></li>
<li class="chapter" data-level="3.10" data-path="data-and-programming.html"><a href="data-and-programming.html#programming-basics--control-flow-"><i class="fa fa-check"></i><b>3.10</b> Programming Basics -Control flow-</a><ul>
<li class="chapter" data-level="3.10.1" data-path="data-and-programming.html"><a href="data-and-programming.html#ifelse"><i class="fa fa-check"></i><b>3.10.1</b> if/else</a></li>
</ul></li>
<li class="chapter" data-level="3.11" data-path="data-and-programming.html"><a href="data-and-programming.html#for-loop"><i class="fa fa-check"></i><b>3.11</b> <code>for</code> loop</a></li>
<li class="chapter" data-level="3.12" data-path="data-and-programming.html"><a href="data-and-programming.html#functions"><i class="fa fa-check"></i><b>3.12</b> Functions</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-frame.html"><a href="data-frame.html"><i class="fa fa-check"></i><b>4</b> Data frame</a></li>
<li class="chapter" data-level="5" data-path="exercise-1.html"><a href="exercise-1.html"><i class="fa fa-check"></i><b>5</b> Exercise 1</a><ul>
<li class="chapter" data-level="5.1" data-path="exercise-1.html"><a href="exercise-1.html#question-examine-the-law-of-large-numbers-through-numerical-simulations"><i class="fa fa-check"></i><b>5.1</b> Question: Examine the law of large numbers through numerical simulations</a><ul>
<li class="chapter" data-level="5.1.1" data-path="exercise-1.html"><a href="exercise-1.html#how-to-implement"><i class="fa fa-check"></i><b>5.1.1</b> How to implement</a></li>
<li class="chapter" data-level="5.1.2" data-path="exercise-1.html"><a href="exercise-1.html#what-to-submit"><i class="fa fa-check"></i><b>5.1.2</b> What to submit</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Lecture Note for Applied Econometrics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exercise-1" class="section level1">
<h1><span class="header-section-number">5</span> Exercise 1</h1>
<ul>
<li>Due date: April 22th (Monday) 11pm</li>
</ul>
<p><strong>Rules for Problem Sets</strong></p>
<ul>
<li>If you are enrolled in Japanese class (i.e., Wednesday 2nd), you can use both Japanese and English to write your answer.</li>
<li>Submit your solution through <code>CourseN@vi</code>.</li>
<li>Submit both your answer and R script.</li>
<li>Using <code>Rmarkdown</code> would be appreciated, though not mandatory.
<ul>
<li><code>Rmarkdown</code> introduction in Japanese: <a href="https://kazutan.github.io/kazutanR/Rmd_intro.html" class="uri">https://kazutan.github.io/kazutanR/Rmd_intro.html</a></li>
<li><code>Rmarkdown</code> introduction in English: <a href="https://rmarkdown.rstudio.com/articles_intro.html" class="uri">https://rmarkdown.rstudio.com/articles_intro.html</a></li>
</ul></li>
<li>I might cover <code>Rmarkdown</code> in the course later.</li>
</ul>
<div id="question-examine-the-law-of-large-numbers-through-numerical-simulations" class="section level2">
<h2><span class="header-section-number">5.1</span> Question: Examine the law of large numbers through numerical simulations</h2>
<p>Consider the random sample of <span class="math inline">\(\{x_{i}\}_{i=1}^{N}\)</span> drawn from the random variable <span class="math inline">\(X\)</span>. The law of large numbers implies that</p>
<p><span class="math display">\[
\frac{1}{N}\sum_{i=1}^{N}x_{i}\overset{p}{\longrightarrow}E[X]
\]</span></p>
<p>In other words, the sample mean converges to the population mean in probability as the sample size goes to infinity (i.e., <span class="math inline">\(N \rightarrow \infty\)</span>).</p>
<p>Similary, the sample variance also converges to the population variance in probability</p>
<p><span class="math display">\[
\frac{1}{N}\sum_{i=1}^{N}(x_{i}-\bar{x})^{2}\overset{p}{\longrightarrow}V[X]
\]</span></p>
<p>(This is an application of the law of large numbers, though it is a bit involved to prove this.)</p>
<p>The goal of this problem set is to demonstrate these two properties through numerical simulations. Here is what we are going to do:</p>
<ol style="list-style-type: decimal">
<li>For a certain sample size <span class="math inline">\(N\)</span>, draw <span class="math inline">\(N\)</span> random numbers from the normal distribution with known mean and standard deviation.</li>
<li>Calculate the sample mean and the sample variance for the “data” you draw.</li>
<li>Repeat this for many different sample sizes.</li>
<li>Examine to see whether the sample mean and the variance are getting closer to the true value, which you set when you draw the random numbers, as the sample size gets larger.</li>
</ol>
<div id="how-to-implement" class="section level3">
<h3><span class="header-section-number">5.1.1</span> How to implement</h3>
<p>I explain how to implement this in <code>R</code> step by step below.</p>
<ol style="list-style-type: decimal">
<li>Prepare a function like this
<ol style="list-style-type: decimal">
<li>There are two inputs: (1) a vector that contains the data <span class="math inline">\(\{x_{i}\}_{i=1}^{N}\)</span> and (2) the indicator of whether you calculate the mean or the standard deviation.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fun_something =<span class="st"> </span><span class="cf">function</span>(firstinput, secondinput){

  <span class="co"># Two inputs: firstinput, secondinput</span>
  <span class="co"># One output: output</span>

  <span class="co"># Do something.</span>

  <span class="kw">return</span>(output)

}</code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Use if/else sentence. Example:</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># &quot;secondinput&quot; is the name of the input variable in your function</span>
<span class="cf">if</span> ( secondinput <span class="op">==</span><span class="st"> &quot;mean&quot;</span>){
  <span class="co"># calculate mean of the data (firstinput)</span>

} <span class="cf">else</span> <span class="cf">if</span> ( secondinput <span class="op">==</span><span class="st"> &quot;sd&quot;</span>){
  <span class="co"># Calculate standard deviation of the data (firstinput) </span>
}    </code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Use <code>return</code> function to define the output of the function.</li>
</ol></li>
<li>Construct a vector that contains the sample size you want to use in your simulation. For example:</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">samplesize_vec =<span class="st"> </span><span class="kw">c</span>(<span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>, <span class="dv">400</span>)</code></pre></div>
<p>Here, let’s try 100 different sample sizes that ranges from 100 to 50000. (Hint: <code>rep</code> function)</p>
<ol start="3" style="list-style-type: decimal">
<li>Prepare two vectors that contain the result in the <code>forloop</code> below. Since we are trying 100 different sample sizes, let’s create a vector with the length of 100.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Hint:</span>
<span class="co"># numeric(k) returns a zero vector with the length of k </span>
<span class="co"># length( vector) returns the length of `vector`</span>

<span class="co"># result_mean = .... </span>
<span class="co"># result_variance = ....</span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>To create the random draw from the normal distribution, use below</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># You can choose the mean and the standard deviation as you like.</span>
<span class="kw">rnorm</span>(<span class="dt">n =</span> <span class="dv">100</span>, <span class="dt">mean =</span> <span class="dv">2</span>, <span class="dt">sd =</span> <span class="dv">5</span>)</code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Use <code>forloop</code> to calculate both mean and the standard deviation for each sample size. For example:</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(samplesize_vec)){
  
  <span class="co"># Draw the random number</span>
  
  <span class="co"># Calculate the mean using the function you construct. </span>
  
  <span class="co"># Calculate the variance using the function you construct.</span>
  
}</code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>Plot the result with <code>ggplot2</code>.
<ol style="list-style-type: decimal">
<li>Install the package if you have not done it yet.</li>
<li>Load <code>ggplot2</code> by <code>library(ggplot2)</code></li>
<li>Use <code>qplot</code> command to make a figure</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create plot and save it as the variable `plot1`</span>
plot1 &lt;-<span class="st"> </span><span class="kw">qplot</span>(<span class="dt">x =</span> samplesize_vec, <span class="dt">y =</span> yourresult, <span class="dt">geom =</span> <span class="st">&quot;line&quot;</span>)

<span class="co"># print &quot;plot1&quot;</span>
<span class="kw">print</span>(plot1)

<span class="co"># save the plot as PNG file</span>
<span class="kw">ggsave</span>(<span class="dt">file =</span> <span class="st">&quot;filename.png&quot;</span>, <span class="dt">plot =</span> plot1)</code></pre></div></li>
</ol>
</div>
<div id="what-to-submit" class="section level3">
<h3><span class="header-section-number">5.1.2</span> What to submit</h3>
<p>Your answer should include</p>
<ol style="list-style-type: decimal">
<li>The true value of mean and variance you choose in your simulation.</li>
<li>The plot that describes the relationship between the sample mean (variance) and the sample size.</li>
<li>Explain what the plots from your simulation indicate.</li>
</ol>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-frame.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
